<div class="card-panel">
    <div class="row">
        <div class="col s12 center-align">
            <h2>Cadastro de Categorias</h2>
        </div>
    </div>
    <div class="row">
        <form id="fomulario-cadastro" class="col s12" >
            <input type="text" id="categoria-id" name="categoria-id" hidden>
            <div class="row">
                <div class="input-field col s12">
                    <input id="categoria-descricao" name="categoria-descricao" type="text" class="validate">
                    <label for="categoria-descricao">Descrição</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12 center">
                    <button class="btn waves-effect waves-light btn-large" type="submit">
                        Cadastrar
                        <i class="material-icons left">send</i>
                    </button>
                </div>  
            </div> 
        </form>
    </div>
</div>

<script>
    const formulario = document.getElementById('fomulario-cadastro');

    formulario.addEventListener('submit', (evento) => {
        evento.preventDefault();

        const categoria = {
            "id": document.getElementById('categoria-id').value,
            "descricao": document.getElementById('categoria-descricao').value
        };
        
        const opcoesEnvio = {
            method: 'POST',
            mode: 'no-cors',
            headers: {
                'Content-Type':'application/json'
            },
            body: JSON.stringify(categoria)
        };
        fetch('http://localhost:8082/api/cadastro_categoria_filme', opcoesEnvio)
            .then(async (resposta) => {
                return resposta;
            })
            .then((conteudo) => {console.log(conteudo)});
    });


</script>